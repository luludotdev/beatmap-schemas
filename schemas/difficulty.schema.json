{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://raw.githubusercontent.com/lolPants/beatmap-schemas/master/schemas/difficulty.schema.json",
  "type": "object",
  "title": "Difficulty",
  "description": "Beat Saber Beatmap Level",
  "additionalProperties": false,
  "required": [
    "_version",
    "_events",
    "_notes",
    "_obstacles"
  ],
  "properties": {
    "$schema": {
      "type": "string",
      "format": "uri"
    },
    "_version": {
      "$id": "#/properties/_version",
      "type": "string",
      "title": "Beatmap Version",
      "default": "2.0.0",
      "examples": [
        "2.0.0"
      ],
      "pattern": "^([2-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)$"
    },
    "_events": {
      "$id": "#/properties/_events",
      "type": "array",
      "title": "Events",
      "description": "Environment and lighting events",
      "items": { "$ref": "#/definitions/event" }
    },
    "_notes": {
      "$id": "#/properties/_notes",
      "type": "array",
      "title": "Notes and Bombs",
      "items": { "$ref": "#/definitions/note" }
    },
    "_obstacles": {
      "$id": "#/properties/_obstacles",
      "type": "array",
      "title": "Obstacles",
      "description": "Walls",
      "items": { "$ref": "#/definitions/obstacle" }
    },
    "_customData": {
      "$id": "#/properties/_customData",
      "type": "object",
      "title": "Custom Data",
      "description": "Difficulty custom data",
      "additionalProperties": true,
      "required": [],
      "properties": {}
    }
  },
  "definitions": {
    "event": {
      "$id": "#/definitions/event",
      "type": "object",
      "additionalProperties": false,
      "required": [
        "_time",
        "_type",
        "_value"
      ],
      "properties": {
        "_time": {
          "$id": "#/definitions/event/properties/_time",
          "type": "number",
          "title": "Time",
          "description": "Time offset in beats"
        },
        "_type": {
          "$id": "#/definitions/event/properties/_type",
          "type": "integer",
          "title": "Type",
          "description": "Type of this event\n 0 = Back top lasers\n 1 = Track ring neons\n 2 = Left lasers\n 3 = Right lasers\n 4 = Bottom/back/side lasers\n 5-7 = [UNUSED]\n 8 = Ring rotation\n 9 = Ring zoom\n 10-11 = [UNUSED]\n 12 = Left laser rotation\n 13 = Right laser rotation"
        },
        "_value": {
          "$id": "#/definitions/event/properties/_value",
          "type": "integer",
          "title": "Value",
          "description": "Parameter value for this event"
        },
        "_customData": {
          "$id": "#/definitions/note/properties/_customData",
          "type": "object",
          "title": "Custom Data",
          "description": "Environment / lighting event custom data",
          "additionalProperties": true,
          "required": []
        }
      }
    },
    "note": {
      "$id": "#/definitions/note",
      "type": "object",
      "additionalProperties": false,
      "required": [
        "_cutDirection",
        "_lineIndex",
        "_lineLayer",
        "_time",
        "_type"
      ],
      "properties": {
        "_cutDirection": {
          "$id": "#/definitions/note/properties/_cutDirection",
          "type": "integer",
          "description": "The direction the saber must swing to cut this block.\n 0 = Up\n 1 = Down\n 2 = Left\n 3 = Right\n 4 = Up-left\n 5 = Up-right\n 6 = Down-left\n 7 = Down-right\n 8 = Any-direction (dot block)",
          "examples": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8
          ]
        },
        "_lineIndex": {
          "$id": "#/definitions/note/properties/_lineIndex",
          "type": "integer",
          "title": "Line Index",
          "description": "Note horizontal position, starting at far left"
        },
        "_lineLayer": {
          "$id": "#/definitions/note/properties/_lineLayer",
          "type": "integer",
          "title": "Line Layer",
          "description": "Note vertical position, starting at bottom"
        },
        "_time": {
          "$id": "#/definitions/note/properties/_time",
          "type": "number",
          "title": "Time",
          "description": "Time offset in beats"
        },
        "_type": {
          "$id": "#/definitions/note/properties/_type",
          "type": "integer",
          "title": "Type",
          "description": "Note block type.\n 0 = Red block\n 1 = Blue block\n 3 = Bomb",
          "examples": [
            0,
            1,
            3
          ]
        },
        "_customData": {
          "$id": "#/definitions/note/properties/_customData",
          "type": "object",
          "title": "Custom Data",
          "description": "Note / bomb custom data",
          "additionalProperties": true,
          "required": []
        }
      }
    },
    "obstacle": {
      "$id": "#/definitions/obstacle",
      "type": "object",
      "additionalProperties": false,
      "required": [
        "_duration",
        "_lineIndex",
        "_time",
        "_type",
        "_width"
      ],
      "properties": {
        "_duration": {
          "$id": "#/definitions/obstacle/properties/_duration",
          "type": "number",
          "title": "Duration",
          "description": "Duration in beats"
        },
        "_lineIndex": {
          "$id": "#/definitions/obstacle/properties/_lineIndex",
          "type": "integer",
          "title": "Line Index",
          "description": "Obstacle horizontal position, starting at far left"
        },
        "_time": {
          "$id": "#/definitions/obstacle/properties/_time",
          "type": "number",
          "title": "Time",
          "description": "Time offset in beats"
        },
        "_type": {
          "$id": "#/definitions/obstacle/properties/_type",
          "type": "integer",
          "title": "Type",
          "description": "Type of this obstacle.\n 0 = Wall\n 1 = Ceiling",
          "examples": [
            0,
            1
          ]
        },
        "_width": {
          "$id": "#/definitions/obstacle/properties/_width",
          "type": "integer",
          "title": "Width",
          "description": "Width of this obstacle.\n 1 = Single lane\n 2 = Two lanes\n Etc"
        },
        "_customData": {
          "$id": "#/definitions/obstacle/properties/_customData",
          "type": "object",
          "title": "Custom Data",
          "description": "Obstacle custom data",
          "additionalProperties": true,
          "required": []
        }
      }
    }
  }
}
